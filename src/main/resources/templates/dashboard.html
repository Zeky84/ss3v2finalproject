<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
  <head>
    <title>mycostliving-homepage</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Roboto", sans-serif;
        background-color: #78a7d3; /* Optional: background color for the overall page */
        color: #306da6; /* Optional: default text color */
      }
      .form-container {
        /* GPT help */
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 920px;
        margin: auto;
        padding: 20px;
        box-shadow: 0 0 4px #c3e9ff;
        border-radius: 10px;
        background-color: #c3e9ff;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      th,
      td {
        border: 2px solid #306da6;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #dfe451;
        color: #306da6;
      }

      .form-group {
        /* GPT help */
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        align-items: center;
        margin-bottom: 15px; /* Spacing between rows */
        width: 100%;
      }
      .form-group label {
        /* GPT help */
        width: 150px; /* Adjust as needed */
        text-align: right;
        margin-right: 10px; /* Spacing between label and input */
      }

      .form-group input {
        /* GPT help */
        flex-grow: 1; /* Makes input take up the remaining space */
        border: 1px solid #def3ff;
        box-shadow: 0 0 4px #b0d9fd;
        height: 40px;
        width: 280px;
        border-radius: 13px;
        text-indent: 10px;
      }

      .form-group button {
        /* Some from my chatapp */
        background-color: #306da6;
        box-shadow: 0 0 4px #306da6;
        border: none;
        color: white;
        padding: 2px 5px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        border-radius: 8px;
        cursor: pointer;
        white-space: nowrap;
        transition: background-color 0.5s;
        margin-left: 5px;
        margin-right: 5px;
        margin-top: 7px;
        height: 40px;
        width: 300px;
      }
      .form-group button:hover {
        /* Some from my chatapp */
        background-color: #24517a;
        box-shadow: 0 0 4px #043e5f;
        font-size: 17px;
      }
      .button-home {
        font-family: "Roboto", sans-serif;
        background-color: #dfe451;
        border: none;
        box-shadow: 0 0 4px #e9ec8b;
        color: #306da6;
        padding: 2px 5px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 20px;
        border-radius: 8px;
        cursor: pointer;
        white-space: nowrap;
        transition: background-color 0.5s;
        margin-left: 5px;
        margin-right: 5px;
        margin-top: 7px;
        height: 40px;
        width: 150px;
      }
      .button-home:hover {
        background-color: #c6ca4c;
        box-shadow: 0 0 4px #c6ca4c;
        font-size: 22px;
      }
      .button-like {
        background-color: #306da6;
        box-shadow: 0 0 4px #306da6;
        border: none;
        color: white;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        border-radius: 8px;
        cursor: pointer;
        white-space: nowrap;
        transition: background-color 0.5s;
        margin-left: 5px;
        margin-right: 5px;
        margin-top: 7px;
        height: 40px;
        width: 300px;
        line-height: 40px;
      }

      .button-like:hover {
        background-color: #24517a; /* Darker shade for hover */
        box-shadow: 0 0 4px #043e5f;
        font-size: 17px;
      }
      /* General style for all input placeholders */
      .form-group input::placeholder {
        color: #306da6; /* Light blueish-gray color for the placeholder text */
        font-size: 15px; /* Slightly smaller font size than the input text */
        opacity: 0.8; /* Slightly transparent to differentiate from input text */
      }

      /* Hover effect on input fields to highlight the placeholder on focus */
      .form-group input:hover::placeholder {
        color: #306da6; /* Darker color on hover for better visibility */
        opacity: 1; /* Fully opaque on hover */
        font-style: normal; /* Normal font style when the field is active */
        font-size: 17px; /* Slightly smaller font size on focus */
      }

      /* Focus effect on input fields to change the placeholder when typing starts */
      .form-group input:focus::placeholder {
        color: #306da6; /* Even darker color on focus */
        font-style: normal; /* Normal font style when the field is active */
        font-size: 18px; /* Slightly smaller font size on focus */
      }
      .form-group input:focus {
        outline: 2px solid #306da6; /* Change 'blue' to your desired color */
      }
      .form-group input:hover {
        background-color: rgb(240, 251, 255);
      }
      .button-container {
        margin-top: 10px; /* Adjust the margin as needed */
      }
      .elevate-button {
        color: white;
        border: none;
        padding: 8px 12px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        cursor: pointer;
        font-family: "Roboto", sans-serif;
        background-color: #2eac49;
        border: none;
        box-shadow: 0 0 4px #2eac49;
        /* color: #306DA6; */
        padding: 4px 5px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        border-radius: 8px;
        cursor: pointer;
        white-space: nowrap;
        transition: background-color 0.5s;
      }
      .elevate-button:hover {
            background-color: #1e9738;
            box-shadow: 0 0 4px #1e9738;
            font-size: 17px;
          }
      .remove-button {
        color: white;
        border: none;
        padding: 8px 12px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        cursor: pointer;
        font-family: "Roboto", sans-serif;
        background-color: #ac2e2e;
        border: none;
        box-shadow: 0 0 4px #ac2e2e;
        /* color: #306DA6; */
        padding: 4px 5px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        border-radius: 8px;
        cursor: pointer;
        white-space: nowrap;
        transition: background-color 0.5s;
      }
      .remove-button:hover {
            background-color: #972525;
            box-shadow: 0 0 4px #972525;
            font-size: 17px;
          }
      span {
        display: inline-block;
        margin-right: 10px; /* Adjust as needed */
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h2>Admin Dashboard</h2>

      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Roles</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <!-- Iterate over the list of users -->
          <tr th:each="user : ${userList}">
            <td th:text="${user.id}"></td>
            <td th:text="${user.firstName}"></td>
            <td th:text="${user.lastName}"></td>
            <td th:text="${user.email}"></td>
            <!-- <td th:text="${user.authorities}"></td> -->
            <td>
              <!-- Iterate over the list of authorities for the user -->
              <span
                th:each="authority : ${user.authorities}"
                th:text="${authority.getAuthority()} + '  '"
              ></span>
            </td>
            <td>
              <!-- Display buttons if need it-->
              <span th:if="${user.isAdmin.equals(false)}">
                <form th:action="@{/admin/makeAdmin}" th:method="post">
                  <input type="hidden" th:name="userId" th:value="${user.id}" />
                  <button type="submit" class="elevate-button">
                    Elevate to Admin
                  </button>
                </form>
              </span>
              <span th:if="${user.isAdmin.equals(true)}">
                <form th:action="@{/admin/removeAdmin}" th:method="post">
                  <input type="hidden" th:name="userId" th:value="${user.id}" />
                  <button type="submit" class="remove-button">
                    Remove Admin priviledges
                  </button>
                </form>
              </span>
              <span th:if="${user.isSuperUser.equals(false)}">
                <form th:action="@{/admin/makeSuperUser}" th:method="post">
                  <input type="hidden" th:name="userId" th:value="${user.id}" />
                  <button type="submit" class="elevate-button">
                    Elevate to SuperUser
                  </button>
                </form>
              </span>
              <span th:if="${user.isSuperUser.equals(true)}">
                <form th:action="@{/admin/removeSuperUser}" th:method="post">
                  <input type="hidden" th:name="userId" th:value="${user.id}" />
                  <button type="submit" class="remove-button">
                    Remove SuperUser priviledges
                  </button>
                </form>
              </span>
              <span>
                <form th:action="@{/admin/deleteUser}" th:method="post">
                  <input type="hidden" th:name="userId" th:value="${user.id}" />
                  <button type="submit" class="remove-button">
                    Delete User
                  </button>
                </form>
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <form action="/logout" method="post">
      <button type="submit">Logout</button>
    </form>
  </body>
</html>
